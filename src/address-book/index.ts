import { padToBytes32 } from '../common/utils';
import { IAddressBookOptions, AddressBookResolve } from './type';

const RPC_OP = 'https://optimism.llamarpc.com';
const RPC_OP_SEPOLIA = 'https://optimism-sepolia.blockpi.network/v1/rpc/public';
const CONTRACT_ADDRESS = '0x94b008aA00579c1307B0EF2c499aD98a8ce58e58';

export default class AddressBook {
  private rpcs: string[] = [RPC_OP];
  private isTestnet = false;
  private contractAddress: string = CONTRACT_ADDRESS;

  constructor(options?: IAddressBookOptions) {
    if (options?.contractAddress) {
      this.contractAddress = options?.contractAddress;
    }
    if (options?.isTestnet) {
      this.isTestnet = options?.isTestnet;
    }
    if (options?.rpcUrl) {
      this.rpcs =
        typeof options?.rpcUrl === 'string'
          ? [options?.rpcUrl]
          : options?.rpcUrl;
    } else {
      if (this.isTestnet) {
        this.rpcs = [RPC_OP_SEPOLIA];
      }
    }
  }

  private async call(
    functionSelector: `0x${string}`,
    params: string[],
    currentRpc = 0
  ): Promise<string | null> {
    try {
      const data =
        functionSelector +
        params.map((param: string) => padToBytes32(param)).join('');

      const payload = {
        jsonrpc: '2.0',
        method: 'eth_call',
        params: [
          {
            to: this.contractAddress,
            data: data,
          },
          'latest',
        ],
        id: 1,
      };

      const response = await fetch(this.rpcs[currentRpc], {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(payload),
      });

      const json: any = await response.json();
      return json.result as string;
    } catch (error) {
      console.log(`Call error ${this.rpcs[currentRpc]}`, error);
      if (currentRpc + 1 < this.rpcs.length) {
        return this.call(functionSelector, params, currentRpc + 1);
      }
      return null;
    }
  }

  public async resolveByNickname(
    nickname: string
  ): Promise<AddressBookResolve | null> {
    console.log(nickname);
    if (nickname === 'vinny') {
      return {
        info: {
          address: '0xeeC5915A21DA64a58DE1e9a3D7dd7b8Bff775cF0',
          avatar:
            'data:image/jpeg;base64,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',
          nickname: 'Vinny',
        },
        resolvedAt: new Date(),
        resolvedBy: 'nickname',
      };
    }
    return null;
  }

  public async resolveByEmail(
    email: string
  ): Promise<AddressBookResolve | null> {
    console.log(email);
    if (email === 'vinny@gmail.com') {
      return {
        info: {
          address: '0xFFE99E1864c30723a51ec4aEB465fd138f3b7ff0',
          avatar:
            'data:image/jpeg;base64,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',
          email: 'vinny@gmail.com',
        },
        resolvedAt: new Date(),
        resolvedBy: 'email',
      };
    }
    return null;
  }

  public async resolveByAddress(
    address: `0x${string}`
  ): Promise<AddressBookResolve | null> {
    console.log(address);
    if (
      address.toLowerCase() ===
      '0xeeC5915A21DA64a58DE1e9a3D7dd7b8Bff775cF0'.toLowerCase()
    ) {
      return {
        info: {
          address: '0xeeC5915A21DA64a58DE1e9a3D7dd7b8Bff775cF0',
          avatar:
            'data:image/jpeg;base64,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',
          nickname: 'Vinny',
        },
        resolvedAt: new Date(),
        resolvedBy: 'address',
      };
    }
    return null;
  }
}
